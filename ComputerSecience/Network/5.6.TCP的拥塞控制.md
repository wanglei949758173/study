# 拥塞控制
**拥塞控制** 指的是为了解决 **多个客户端走同一个通道** 而导致的 **通道阻塞(严重丢包，甚至无法畅通)** 的问题。

![Congestion-Control](/assets/Congestion-Control.png)

为了解决 **拥塞**， TCP提供了 **慢开始** 和 **快重传和快恢复** 两种技术来解决 **拥塞** 的问题。

---

## 慢开始
**慢开始** 指的是在开始的时候 **指数增大** 拥塞窗口(cwind) 的大小， 直到达到 **慢开始门限** 后，再 **线性增大** 拥塞窗口(cwind) 的大小，直到发生 **拥塞**， 拥塞后再 **调整慢开始门限，调整为拥塞时的一半**， 然后再重新 **指数增大和线性增大** 拥塞窗口(cwind)。

![TCP-Slow-Start](/assets/TCP-Slow-Start.png)
---

## 快重传和快恢复
### 快重传
 **快重传算法** 首先要求接收方每收到一个失序的分组后就 **立即发出重复确认**（为的是使发送方及早知道有分组没有到达对方）而不要等待自己发送数据时才进行捎带确认。

快重传算法规定，发送方只要 **一连收到三个重复确认就应当立即重传对方尚未收到的报文段M3**，而不必继续等待为M3设置的重传计时器到期。

![TCP-Quick-Resend](/assets/TCP-Quick-Resend.png)

### 快恢复
**快恢复** 指的是发生 **拥塞** 后， **拥塞窗口(cwind)不再从0开始** ，而直接从 **新的门限开始线性增长**。
![TCP-Quick-Recover](/assets/TCP-Quick-Recover.png)

## 发送窗口的上限
发送方窗口的上限值 = Min [rwnd，cwnd]
