# 中断
指CPU对系统发生的某个事件作出的一种反应过程或机制。
中断过程：事件发生时，系统立即暂停现行程序，而去处理突发事件，且处理完毕后返回原程序的断点处继续执行

![interrupt_definition](/assets/interrupt_definition.png)

---

## 中断的作用
* 实现并发活动
* 实现实时处理
* 故障自动处理

---

## 中断相关概念
### 中断源
可以引起系统中断的事情称之为中断源

例如：电源掉电，运算溢出，I/O传输结束，指令访问错误，除零错误等都可以是中断源

### 断点
由于中断发生，将要执行但尚未执行的指令地址，包括16位段基址和16位偏移地址。

### 现场
中断发生时刻，能确保现行程序能继续正确运行的所有有关信息的集合。

程序状态字PSW，程序计数器PC，一些相关寄存器的值

保存地方：栈

---

## 中断的类型
* 输入输出中断：I/O传输结束或出错中断。
* 外部中断：时钟中断、操作员控制台中断等。
* 机器故障中断：电源故障、取指错、奇偶校验错等。
* 程序性中断：溢出、越界、非法操作等。
* 访管中断：请求操作系统提供服务时所发出的中断。

### 按中断方式区分
#### 强迫性中断
这类中断事件不是正在运行的程序所期待的，而是由某种事故或外部请求信号所引起的。

如：输入输出中断、外中断、 机器故障中断、程序性中断

#### 自愿中断
程序所期待的事件，这种事件是由于执行了一条访管指令而引起的。

如：访管中断

### 按中断来源分类
#### 外中断（中断）
由处理机外部事件引起的中断称为外中断。包括输入输出中断、外中断。

#### 内中断（俘获）
由处理机内部事件引起的中断称为内中断，又称为俘获。包括访管中断、程序性中断、机器故障中断。

俘获的优先级高于中断的优先级

### 按事情性质分类
#### 不可屏蔽中断
中断原因很紧要，CPU必须响应

#### 可屏蔽中断
中断原因不很紧要，CPU可以不响应
