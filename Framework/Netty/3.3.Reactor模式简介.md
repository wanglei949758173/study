# Reactor模式简介
## 针对传统阻塞I/O服务模式的解决方案
### 阻塞问题
使用**基于 I/O  复用模型**,多个连接共用一个阻塞对象，应用程序只需要在一个阻塞对象等待，无需阻塞等待所有连接。当某个连接有新的数据可以处理时，操作系统通知应用程序，线程从阻塞状态返回，开始进行业务处理。

Reactor  对应的叫法
1. 反应器模式
  有事件了才进行反应
2. 分发者模式(Dispatcher)
  只有一个阻塞对象进行请求的接待工作，然后将真正的业务处理分发给其他线程处理
3. 通知者模式(notifier)
  只有一个阻塞对象进行请求的接待工作，当接待成功后，通知具体的worker进行业务的处理

### 线程过多的问题
基于线程池复用线程资源：不必再为每个连接创建线程，将连接完成后的业务处理任务分配给线程进行处理，个线程可以处理多个连接的业务。

## 原理图
![Reactor-base-principle](/assets/Reactor-base-principle.jpg)
1. Reactor 模式，通过一个或多个输入同时传递给服务处理器的模式(基于事件驱动)

2. 服务器端程序处理传入的多个请求,并将它们同步分派到相应的处理线程， 因此 Reactor 模式也叫 Dispatcher模式

3. Reactor 模式使用 IO 复用监听事件,  收到事件后，分发给某个线程(进程),  这点就是网络服务器高并发处理关键

## 核心组件
### Reactor
Reactor  在一个单独的线程中运行，**负责监听和分发事件**，分发给适当的处理程序来对 IO  事件做出反应。 它就像公司的电话接线员，它接听来自客户的电话并将线路转移到适当的联系人；

### Handlers
处理程序执行 I/O  事件要完成的实际事件，类似于客户想要与之交谈的公司中的实际官员。Reactor通过调度适当的处理程序来响应 I/O 事件，处理程序执行非阻塞操作。
